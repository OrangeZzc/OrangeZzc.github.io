<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>SpringMvc | Orange's Blog</title><meta name="author" content="OrangeZzc"><meta name="copyright" content="OrangeZzc"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="SpringMvc负责处理页面请求">
<meta property="og:type" content="article">
<meta property="og:title" content="SpringMvc">
<meta property="og:url" content="https://orangezzcs.gitee.io/orange-zzcs/2023/04/24/SpringMvc/index.html">
<meta property="og:site_name" content="Orange&#39;s Blog">
<meta property="og:description" content="SpringMvc负责处理页面请求">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://orangezzcs.gitee.io/orange-zzcs/imgs/springmvcfenmian.jpg">
<meta property="article:published_time" content="2023-04-24T08:31:31.000Z">
<meta property="article:modified_time" content="2023-04-28T03:05:43.963Z">
<meta property="article:author" content="OrangeZzc">
<meta property="article:tag" content="SpringMvc">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://orangezzcs.gitee.io/orange-zzcs/imgs/springmvcfenmian.jpg"><link rel="shortcut icon" href="/orange-zzcs/img/favicon.png"><link rel="canonical" href="https://orangezzcs.gitee.io/orange-zzcs/2023/04/24/SpringMvc/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/orange-zzcs/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/orange-zzcs/',
  algolia: undefined,
  localSearch: {"path":"/orange-zzcs/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":30},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: OrangeZzc","link":"链接: ","source":"来源: Orange's Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'SpringMvc',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-28 11:05:43'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/orange-zzcs/img/avater.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/orange-zzcs/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/orange-zzcs/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/orange-zzcs/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/orange-zzcs/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/orange-zzcs/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/orange-zzcs/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/orange-zzcs/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/orange-zzcs/link/"><i class="fa-fw fas fa-link"></i><span> 学无止境</span></a></div><div class="menus_item"><a class="site-page" href="/orange-zzcs/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"><nav id="nav"><span id="blog-info"><a href="/orange-zzcs/" title="Orange's Blog"><span class="site-name">Orange's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/orange-zzcs/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 文章</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/orange-zzcs/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></li><li><a class="site-page child" href="/orange-zzcs/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/orange-zzcs/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/orange-zzcs/link/"><i class="fa-fw fas fa-link"></i><span> 学无止境</span></a></div><div class="menus_item"><a class="site-page" href="/orange-zzcs/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">SpringMvc</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-24T08:31:31.000Z" title="发表于 2023-04-24 16:31:31">2023-04-24</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-28T03:05:43.963Z" title="更新于 2023-04-28 11:05:43">2023-04-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/orange-zzcs/categories/SSM/">SSM</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>28分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="SpringMvc"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一、概述"><a href="#一、概述" class="headerlink" title="一、概述"></a>一、概述</h1><h2 id="1-什么是SpringMVC"><a href="#1-什么是SpringMVC" class="headerlink" title="1.什么是SpringMVC"></a>1.什么是SpringMVC</h2><ul>
<li>SpringMVC隶属于Spring框架，其与servlet一样都是处理web开发中的表现层（即：接收前段发过来的请求和数据，然后经过处理之后将处理结果响应给前端），<strong>SpringMVC完全可以替换掉servlet</strong>。</li>
<li>SpringMVC与servlet相比使用更简单、开发更快捷、灵活性更强。</li>
<li>SpringMVC是使用Java编写的。</li>
<li>REST是一种软件架构风格，可以降低开发的复杂性，提高系统的可伸缩性，后期的应用也是非常广泛。</li>
</ul>
<h2 id="2-学习内容及目标"><a href="#2-学习内容及目标" class="headerlink" title="2.学习内容及目标"></a>2.学习内容及目标</h2><p>​		学习内容：</p>
<p><img src="/orange-zzcs/imgs/image-20230427112724035.png" alt="image-20230427112724035"></p>
<p>​		学习目标：</p>
<p><img src="/orange-zzcs/imgs/image-20230427112730047.png" alt="image-20230427112730047"></p>
<hr>
<h1 id="二、SpringMVC"><a href="#二、SpringMVC" class="headerlink" title="二、SpringMVC"></a>二、SpringMVC</h1><h2 id="1-入门案例（重点回顾）"><a href="#1-入门案例（重点回顾）" class="headerlink" title="1.入门案例（重点回顾）"></a>1.入门案例（重点回顾）</h2><h3 id="A-案例制作"><a href="#A-案例制作" class="headerlink" title="A.案例制作"></a>A.案例制作</h3><p>​	步骤：</p>
<ol>
<li><p>创建Maven项目</p>
</li>
<li><p>在pom.xml文件中导入所需坐标（SpringMVC+Servlet）</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--servlet--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span> <span class="comment">&lt;!--避免与tomcat中的插件产生冲突，得指定servlet的作用范围为provide--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--springmvc--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span> <span class="comment">&lt;!--版本号要与spring的一样--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--SpringMVC是基于Spring的，但在pom.xml中只导入了spring-webmvc jar包的原因是它会自动依赖spring相关坐标--&gt;</span></span><br></pre></td></tr></table></figure>

</li>
<li><p>创建SpringMVC控制器类（等同于我们前面做的Servlet）</p>
</li>
</ol>
<p>  ①在Java文件下创建一个包com.zzc.controller，专门用来放SpringMVC控制器类。</p>
<p>  ​		控制器类的类名一般为：表名+Controller。</p>
<p>  ②控制器类内部定义一个方法（方法名随意），用于处理外部的请求，一般处理完请求后我们都是将JSON数据返回给外部，所以该方法返回值类型为String。</p>
<p>  ③使用@RequestMapping注解来设置当前访问路径</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用@Controller定义Bean</span></span><br><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="comment">//设置当前访问路径，使用@RequestMapping</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/save&quot;)</span></span><br><span class="line">    <span class="comment">//设置操作的返回值类型</span></span><br><span class="line">    <span class="meta">@ResponseBody</span>  <span class="comment">//将return返回的东西整体作为响应的内容给到外部</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//该方法里写处理请求的一些操作</span></span><br><span class="line">        System.out.println(<span class="string">&quot;user save ...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;SpringMVC&#x27;&#125;&quot;</span>;<span class="comment">//返回Json数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  解释：</p>
<p>  @Controller：因为SpringMVC隶属于Spring，所以也需要将该控制器类定义成bean。</p>
<ol start="4">
<li>在com.zzc.config包下创建springmvc的配置类，加载springmvc对应的bean。</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建SpringMVC的配置类，加载SpringMVC对应的bean</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.zzc.controller&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>定义一个servlet容器的配置类，在里面加载SpringMVC的配置，继承AbstractDispatcherServletInitializer并重写其方法。</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainerInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractDispatcherServletInitializer</span> &#123;</span><br><span class="line">    <span class="comment">//加载SpringMvc容器配置</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createServletApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//创建一个空的容器</span></span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        <span class="comment">//让容器加载springmvc配置类</span></span><br><span class="line">        context.register(SpringMvcConfig.class);</span><br><span class="line">        <span class="keyword">return</span> context;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置哪些请求归SpringMvc处理</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="comment">//所有请求都交由SpringMVC处理</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//加载Spring容器配置</span></span><br><span class="line">    <span class="comment">//如果创建Servlet容器时需要加载非SpringMVC对应的bean，使用当前方法进行，使用方式和createServletApplicationContext相同。</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createRootApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  解释：</p>
<ul>
<li>当Tomcat容器启动时就会加载servlet容器的配置类，然后servlet容器的配置类再加载SpringMVC配置类，从而就将SpringMVC对应的bean加载进来。</li>
<li><img src="/orange-zzcs/imgs/image-20230208101001092.png" alt="image-20230208101001092"></li>
</ul>
<ol start="6">
<li>查看pom.xml文件中是否有tomcat插件，如果没有就加上，否则无法通过浏览器访问web程序。</li>
</ol>
<p>  <img src="/orange-zzcs/imgs/image-20230427112752188.png" alt="image-20230427112752188"></p>
<ol start="7">
<li>完成。</li>
</ol>
<h3 id="B-入门案例总结"><a href="#B-入门案例总结" class="headerlink" title="B.入门案例总结"></a>B.入门案例总结</h3><p><img src="/orange-zzcs/imgs/image-20230208103500872.png" alt="image-20230208103500872"></p>
<hr>
<h3 id="C-入门案例工作流程分析"><a href="#C-入门案例工作流程分析" class="headerlink" title="C.入门案例工作流程分析"></a>C.入门案例工作流程分析</h3><p><img src="/orange-zzcs/imgs/image-20230208150009120.png" alt="image-20230208150009120"></p>
<p><img src="/orange-zzcs/imgs/image-20230208150409217.png" alt="image-20230208150409217"></p>
<hr>
<h3 id="D-bean加载控制"><a href="#D-bean加载控制" class="headerlink" title="D.bean加载控制"></a>D.bean加载控制</h3><h4 id="①问题引入"><a href="#①问题引入" class="headerlink" title="①问题引入"></a>①问题引入</h4><p>​	项目的大致层次结构如下，SpringMVC需要加载com.itheima.controller包下的bean，Spring也需要加载com.itheima包下的bean，这样就就会造成Spring也加载了SpringMVC中的bean，这样的结构显然不是我们想要的，我们只想让Spring加载Spring自己的bean。那怎么做呢？</p>
<p>​	<img src="/imgs/image-20230427112810704.png" alt="image-20230427112810704" style="zoom:50%;" /></p>
<p>​	</p>
<h4 id="②解决方法一（推荐使用）"><a href="#②解决方法一（推荐使用）" class="headerlink" title="②解决方法一（推荐使用）"></a>②解决方法一（推荐使用）</h4><p>​	Spring加载的bean设定扫描范围为精确扫描，具体到<code>service</code>包，<code>dao</code>包等</p>
<h4 id="③解决方法二"><a href="#③解决方法二" class="headerlink" title="③解决方法二"></a>③解决方法二</h4><p>​	Spring加载的bean设定扫描范围<code>com.itheima</code>，排除掉<code>controller</code>包内的bean</p>
<p>​	在SpringConfig配置类中：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(value = &quot;com.itheima&quot;,</span></span><br><span class="line"><span class="meta">    excludeFilters = @ComponentScan.Filter(</span></span><br><span class="line"><span class="meta">            type = FilterType.ANNOTATION,</span></span><br><span class="line"><span class="meta">            classes = Controller.class</span></span><br><span class="line"><span class="meta">    ))</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	解释：</p>
<p>​	<img src="/orange-zzcs/imgs/image-20230427161734815.png" alt="image-20230427161734815"></p>
<p>​	测试：	</p>
<p><img src="/orange-zzcs/imgs/image-20230209153037222.png" alt="image-20230209153037222"></p>
<p>​	运行结果为：打印UserController对象的地址。</p>
<p>​	明明在SpringConfig中写好不加载com.itheima.controller包下的使用@Controller注解的bean，但为什么能在spring容器中获取到呢？这是因为SpringConfig的扫描路径为：com.itheima，所以在扫描包的时候也会扫描到com.itheima.config包，SpringMvcConfig上有一个@Configuration注解，也会被Spring扫描到，SpringMvcConfig上又有一个@ComponentScan，把controller包下的类又扫描进来了，所以Spring容器中就有了UserController对象。那接下来怎么做才能不加载controller包下的bean到Spring容器中呢？其实只要将SpringMvcConfig类放到com包下就行，这样Spring就扫描不到SpringMvcConfig，自然就不会加载到controller包下的bean。</p>
<p>​	</p>
<p>​	补充：</p>
<p>​	有了Spring的配置类，要想在tomcat服务器启动将其加载，我们需要修改ServletContainersInitConfig。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletContainerInitConfig</span> <span class="keyword">extends</span> <span class="title class_">AbstractDispatcherServletInitializer</span> &#123;</span><br><span class="line">    <span class="comment">//加载SpringMvc配置</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createServletApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        context.register(SpringMvcConfig.class);</span><br><span class="line">        <span class="keyword">return</span> context;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//设置哪些请求归SpringMvc处理</span></span><br><span class="line">    <span class="keyword">protected</span> String[] getServletMappings() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;/&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//加载Spring容器配置</span></span><br><span class="line">    <span class="keyword">protected</span> WebApplicationContext <span class="title function_">createRootApplicationContext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//创建一个空的容器</span></span><br><span class="line">        <span class="type">AnnotationConfigWebApplicationContext</span> <span class="variable">context</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigWebApplicationContext</span>();</span><br><span class="line">        <span class="comment">//将Spring配置类加载到容器中</span></span><br><span class="line">        context.register(SpringConfig.class);</span><br><span class="line">        <span class="keyword">return</span> context;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/orange-zzcs/imgs/image-20230427112839024.png" alt="image-20230427112839024"></p>
<hr>
<h2 id="2-PostMan工具的使用"><a href="#2-PostMan工具的使用" class="headerlink" title="2.PostMan工具的使用"></a>2.PostMan工具的使用</h2><p>​	PostMan是用于网页测试和发送网页http请求的软件。</p>
<h3 id="A-下载"><a href="#A-下载" class="headerlink" title="A.下载"></a>A.下载</h3><p>​	<a target="_blank" rel="noopener" href="https://www.postman.com/downloads/">https://www.postman.com/downloads/</a></p>
<p><img src="/orange-zzcs/imgs/image-20230209170728907.png" alt="image-20230209170728907"></p>
<p>​	下载完双击就可以运行了。</p>
<h3 id="B-登录注册"><a href="#B-登录注册" class="headerlink" title="B.登录注册"></a>B.登录注册</h3><p>​	首次打开postman需要注册，然后自动登录，跳转到postman</p>
<p><img src="/orange-zzcs/imgs/image-20230209172106810.png" alt="image-20230209172106810"></p>
<h3 id="C-工作空间"><a href="#C-工作空间" class="headerlink" title="C.工作空间"></a>C.工作空间</h3><p>​	<strong>工作空间</strong>用于记录每次操作的痕迹，即：保持此次操作的内容。</p>
<h4 id="①新建工作空间"><a href="#①新建工作空间" class="headerlink" title="①新建工作空间"></a>①新建工作空间</h4><p><img src="/orange-zzcs/imgs/image-20230427112853430.png" alt="image-20230427112853430"></p>
<img src="/imgs/image-20230427112900966.png" alt="image-20230427112900966" style="zoom:80%;" />



<h4 id="②切换工作空间"><a href="#②切换工作空间" class="headerlink" title="②切换工作空间"></a>②切换工作空间</h4><p><img src="/orange-zzcs/imgs/image-20230209172701725.png" alt="image-20230209172701725"></p>
<h3 id="D-发送请求"><a href="#D-发送请求" class="headerlink" title="D.发送请求"></a>D.发送请求</h3><p>​	进入到工作空间后，将概述页关闭（如下：）</p>
<p><img src="/orange-zzcs/imgs/image-20230209172829873.png" alt="image-20230209172829873"></p>
<p>​	然后点击下图中的加号，创建请求：</p>
<p><img src="/orange-zzcs/imgs/image-20230427112921170.png" alt="image-20230427112921170"></p>
<p>​	发送请求：</p>
<p><img src="/orange-zzcs/imgs/image-20230209173040642.png" alt="image-20230209173040642"></p>
<p>​	查看响应数据：</p>
<p><img src="/orange-zzcs/imgs/image-20230209173158347.png" alt="image-20230209173158347"></p>
<p>​	pretty：响应的原始数据</p>
<p>​	Preview：响应的页面信息</p>
<h3 id="E-保存请求"><a href="#E-保存请求" class="headerlink" title="E.保存请求"></a>E.保存请求</h3><p><img src="/orange-zzcs/imgs/image-20230427112936329.png" alt="image-20230427112936329"></p>
<img src="/imgs/image-20230427112946400.png" alt="image-20230427112946400" style="zoom:50%;" />

<h3 id="F-查看之前保存的请求"><a href="#F-查看之前保存的请求" class="headerlink" title="F.查看之前保存的请求"></a>F.查看之前保存的请求</h3><p><img src="/orange-zzcs/imgs/image-20230209173809358.png" alt="image-20230209173809358"></p>
<hr>
<h2 id="3-请求与响应（重点回顾）"><a href="#3-请求与响应（重点回顾）" class="headerlink" title="3.请求与响应（重点回顾）"></a>3.请求与响应（重点回顾）</h2><h3 id="A-设置请求映射路径"><a href="#A-设置请求映射路径" class="headerlink" title="A.设置请求映射路径"></a>A.设置请求映射路径</h3><h4 id="①问题引入-1"><a href="#①问题引入-1" class="headerlink" title="①问题引入"></a>①问题引入</h4><p>​	如果不同的控制器类内，处理请求的路径都一样，如：</p>
<p><img src="/orange-zzcs/imgs/image-20230427113019462.png" alt="image-20230427113019462"></p>
<p>​	当访问<code>http://localhost/save</code>时就会报错，因为同时存在两个相同的访问路径，导致服务器不知道该访问哪个。</p>
<h4 id="②解决"><a href="#②解决" class="headerlink" title="②解决"></a>②解决</h4><p>​	在请求映射路径上加上本模块的名字即可，如：</p>
<p><img src="/orange-zzcs/imgs/image-20230427113031483.png" alt="image-20230427113031483"></p>
<p>​	这样就可以解决请求访问路径一样的问题。</p>
<p>​	但如果类中的请求处理方法很多时，每个方法的请求映射路径上都得加上“user”或“book”，那就会很麻烦且耦合度高。我们只需要在类上面使用@RequestMapping，代表该模块的访问前缀。如：</p>
<img src="/imgs/image-20230427113047485.png" alt="image-20230427113047485" style="zoom:80%;" />

<p>​	</p>
<p><img src="/orange-zzcs/imgs/image-20230210114826156.png" alt="image-20230210114826156"></p>
<hr>
<h3 id="B-请求参数"><a href="#B-请求参数" class="headerlink" title="B.请求参数"></a>B.请求参数</h3><h4 id="①利用postman发送get请求"><a href="#①利用postman发送get请求" class="headerlink" title="①利用postman发送get请求"></a>①利用postman发送get请求</h4><p>​	在postman上选择请求方式，输入请求路径并携带参数：</p>
<p><img src="/orange-zzcs/imgs/image-20230210135348259.png" alt="image-20230210135348259"></p>
<p>​	补充：</p>
<p><img src="/orange-zzcs/imgs/image-20230210135722859.png" alt="image-20230210135722859"></p>
<h4 id="②利用postman发送post请求"><a href="#②利用postman发送post请求" class="headerlink" title="②利用postman发送post请求"></a>②利用postman发送post请求</h4><p>​	通过post请求发送表单数据，而不是JSON数据<img src="/orange-zzcs/imgs/image-20230210140349103.png" alt="image-20230210140349103"></p>
<p>​	</p>
<hr>
<h4 id="③获取请求参数"><a href="#③获取请求参数" class="headerlink" title="③获取请求参数"></a>③获取请求参数</h4><p>​	在Servlet中对于post请求和get请求是分别由dopost、doget进行处理的，而<strong>在SpringMvc中无论是Post请求还是Get请求，其处理的方式都是一样的。</strong></p>
<p>​	<strong>操作：</strong>我们只需要在请求映射路径对应的方法的形参中加上请求参数的名字即可获取请求参数的值。</p>
<p>​	<img src="/orange-zzcs/imgs/image-20230427113220447.png" alt="image-20230427113220447"></p>
<p>​	如果需要接收请求发过来的多个参数，直接在方法的形参中添加多个即可，如：</p>
<p><img src="/orange-zzcs/imgs/image-20230427113229807.png" alt="image-20230427113229807"></p>
<hr>
<h4 id="④post请求中文乱码问题"><a href="#④post请求中文乱码问题" class="headerlink" title="④post请求中文乱码问题"></a>④post请求中文乱码问题</h4><p>​	我们在发送post请求的时候，使用了中文，则会出现乱码，怎么解决？见下图。</p>
<p><img src="/orange-zzcs/imgs/image-20230427113241656.png" alt="image-20230427113241656"></p>
<hr>
<h3 id="C-五种类型参数传递（了解）"><a href="#C-五种类型参数传递（了解）" class="headerlink" title="C.五种类型参数传递（了解）"></a>C.五种类型参数传递（了解）</h3><h4 id="①普通参数"><a href="#①普通参数" class="headerlink" title="①普通参数"></a>①普通参数</h4><ol>
<li><p>普通参数：url地址传参，<strong>地址上的参数名与形参变量名相同</strong>，定义形参即可接收参数。</p>
<p> 发送请求与参数：localhost:8080&#x2F;user&#x2F;commonParam?name&#x3D;Helsing&amp;age&#x3D;1024</p>
<p> 后台接收参数：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/commonParam&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">commonParam</span><span class="params">(String name,<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;普通参数传递name --&gt; &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;普通参数传递age --&gt; &quot;</span> + age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;commonParam&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <img src="/orange-zzcs/imgs/image-20230427113314624.png" alt="image-20230427113314624"></p>
</li>
<li><p>如果形参与地址上的参数名不一致该如何解决？例如地址上的参数名为<code>username</code>，而形参变量名为<code>name</code>，因为前端给的是<code>username</code>，后台接收使用的是<code>name</code>，两个名称对不上，会导致接收数据失败。</p>
<p> 解决方案：使用<code>@RequestParam</code>注解</p>
<p> 发送请求与参数：localhost:8080&#x2F;user&#x2F;commonParam?username&#x3D;Helsing&amp;age&#x3D;1024</p>
<p> 后台接收参数：</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/commonParam&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">commonParam</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String name, <span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;普通参数传递name --&gt; &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;普通参数传递age --&gt; &quot;</span> + age);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;commonParam&#x27;&#125;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="②POJO数据类型"><a href="#②POJO数据类型" class="headerlink" title="②POJO数据类型"></a>②POJO数据类型</h4><p>​	简单数据类型一般处理的是参数个数比较少的请求，如果参数比较多，那么后台接收参数的时候就比较复杂，这个时候我们可以考虑使用POJO数据类型。</p>
<p>​	POJO参数：<strong>请求参数名与形参对象属性名相同，定义POJO类型形参即可接收参数</strong>。但<strong>注意：</strong>pojo类中的属性要提供get&#x2F;set方法。</p>
<p>​	操作：</p>
<ol>
<li><p>准备好pojo类</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>发送请求和参数：localhost:8080&#x2F;user&#x2F;pojoParam?name&#x3D;Helsing&amp;age&#x3D;1024</p>
<p> 后台接收参数:</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//POJO参数：请求参数与形参对象中的属性对应即可完成参数传递</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/pojoParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">pojoParam</span><span class="params">(User user)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;POJO参数传递user --&gt; &quot;</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;pojo param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <img src="/orange-zzcs/imgs/image-20230427113329971.png" alt="image-20230427113329971"></p>
</li>
</ol>
<p>​	<strong>注意：</strong></p>
<ul>
<li>POJO参数接收，前端GET和POST发送请求数据的方式不变。</li>
<li>请求参数key的名称要和POJO中属性的名称一致，否则无法自动封装。</li>
</ul>
<p>​	<strong>实现原理：</strong></p>
<p>​		处理该请求执行pojoParam方法时，会先造一个User对象，因为请求中传递过来的参数名为：name和age，接着就会在这两个参数的首字母大写再在前面加上get，变成getName和getAge，最后查看User类中是否有getName和getAge方法，如果有就调用这两个完成完成对对象属性的赋值；如果没有，那传递过来的参数就不能封装到User对象中。</p>
<h4 id="③嵌套POJO数据类型"><a href="#③嵌套POJO数据类型" class="headerlink" title="③嵌套POJO数据类型"></a>③嵌套POJO数据类型</h4><p>​	准备好两个POJO类：</p>
<img src="/imgs/image-20230427113350435.png" alt="image-20230427113350435" style="zoom:67%;" />

<img src="/imgs/image-20230427113401823.png" alt="image-20230427113401823" style="zoom:67%;" />

<p>​	我们将Address类，嵌套在User类中</p>
<img src="/imgs/image-20230427113414142.png" alt="image-20230427113414142" style="zoom:67%;" />

<p>嵌套POJO参数：请求参数名与形参对象属性名相同，按照对象层次结构关系即可接收嵌套POJO属性参数，如：localhost:8080&#x2F;user&#x2F;pojoParam?name&#x3D;Helsing&amp;age&#x3D;1024&amp;address.province&#x3D;Beijing&amp;address.city&#x3D;Beijing</p>
<p><strong>后台接收参数：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/pojoParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">pojoParam</span><span class="params">(User user)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;POJO参数传递user --&gt; &quot;</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;pojo param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/orange-zzcs/imgs/image-20230214141638712.png" alt="image-20230214141638712"></p>
<p>​	<strong>注意：</strong>请求参数key的名称要和POJO中属性的名称一致，否则无法自动封装。</p>
<p>​	原理：与POJO数据类型中的原理一样。</p>
<h4 id="④数组类型"><a href="#④数组类型" class="headerlink" title="④数组类型"></a>④数组类型</h4><ul>
<li><p><strong>引入：</strong>举个简单的例子，如果前端需要获取用户的爱好，爱好绝大多数情况下都是多选，如何发送请求数据和接收数据呢?</p>
</li>
<li><p>数组参数：请求参数名与形参对象属性名相同且请求参数为多个，定义数组类型即可接收参数。</p>
</li>
<li><p>发送请求和参数：localhost:8080&#x2F;user&#x2F;arrayParam?hobbies&#x3D;sing&amp;hobbies&#x3D;jump&amp;hobbies&#x3D;rap&amp;hobbies&#x3D;basketball</p>
</li>
<li><p>后台接收参数：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/arrayParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">arrayParam</span><span class="params">(String[] hobbies)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;数组参数传递user --&gt; &quot;</span> + Arrays.toString(hobbies));</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;array param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><img src="/orange-zzcs/imgs/image-20230214142124679.png" alt="image-20230214142124679"></p>
<h4 id="⑤集合类型"><a href="#⑤集合类型" class="headerlink" title="⑤集合类型"></a>⑤集合类型</h4><ul>
<li><p><strong>引入：</strong>数组能接收多个值，那么集合是否也可以实现这个功能呢?</p>
<ul>
<li><p>发送请求和参数：localhost:8080&#x2F;user&#x2F;listParam?hobbies&#x3D;sing&amp;hobbies&#x3D;jump&amp;hobbies&#x3D;rap&amp;hobbies&#x3D;basketball</p>
</li>
<li><p>后台接收参数：</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/listParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParam</span><span class="params">(List hobbies)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;集合参数传递user --&gt; &quot;</span> + hobbies);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;list param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  运行程序，报错：java.lang.IllegalArgumentException: Cannot generate variable name for non-typed Collection parameter type</p>
<ul>
<li><p>错误原因：SpringMVC将List看做是一个POJO对象来处理，将其创建一个对象并准备把前端的数据封装到对象中，但是List是一个接口无法创建对象，所以报错。</p>
</li>
<li><p>解决方案是：使用<code>@RequestParam</code>注解</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/listParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">listParam</span><span class="params">(<span class="meta">@RequestParam</span> List hobbies)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;集合参数传递user --&gt; &quot;</span> + hobbies);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;list param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  <img src="/orange-zzcs/imgs/image-20230214144318164.png" alt="image-20230214144318164"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="D-JSON数据传输参数"><a href="#D-JSON数据传输参数" class="headerlink" title="D.JSON数据传输参数"></a>D.JSON数据传输参数</h3><h4 id="①引入"><a href="#①引入" class="headerlink" title="①引入"></a>①引入</h4><p>​	现在比较流行的开发方式为异步调用。前后台以异步方式进行交换，传输的数据使用的是JSON，所以前端如果发送的是JSON数据，该如何接收?</p>
<p>​	对于JSON数据类型，我们常见的有三种:</p>
<ul>
<li>json普通数组（[“value1”,”value2”,”value3”,…]）</li>
<li>json对象（{key1:value1,key2:value2,…}）</li>
<li>json对象数组（[{key1:value1,…},{key2:value2,…}]）</li>
</ul>
<p>​	下面我们就来学习以上三种数据类型，前端如何发送，后端如何接收。</p>
<h4 id="②环境准备"><a href="#②环境准备" class="headerlink" title="②环境准备"></a>②环境准备</h4><ol>
<li><p>在pom.xml文件中导入JSON依赖</p>
 <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p> ​	</p>
</li>
<li><p>开启SpringMVC注解支持</p>
<p> 在SpringMVC配置类SpringMvcConfig上使用@EnableWebMvc注解，开启SpringMVC的注解支持，这里面就包含了将JSON转换成对象的功能。</p>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.blog.controller&quot;)</span></span><br><span class="line"><span class="comment">//开启json数据类型自动转换</span></span><br><span class="line"><span class="meta">@EnableWebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcConfig</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 解释：根据之前学的知识可知，前端传递过来的数据如果是JSON数据，我们需要将JSON数据转换为对应的对象，再通过此对象进行数据处理，所以就需要JSON转对象的操作，而SpringMvc中得使用@EnableWebMvc注解的方式才能将JSON数据转为对象。</p>
</li>
<li><p>在PostMan发送JSON数据</p>
<p> <img src="/orange-zzcs/imgs/image-20230214162514614.png" alt="image-20230214162514614"></p>
</li>
<li><p>看接收什么类型的JSON数据</p>
</li>
</ol>
<h4 id="③接收JSON普通数组"><a href="#③接收JSON普通数组" class="headerlink" title="③接收JSON普通数组"></a>③接收JSON普通数组</h4><p>​	PostMan发送JSON普通数组</p>
<p><img src="/orange-zzcs/imgs/image-20230214162514614.png" alt="image-20230214162514614"></p>
<p>​	后台接收参数，参数前添加@RequestBody</p>
<p>​	使用<code>@RequestBody</code>注解将外部传递的json数组数据映射到形参的集合对象中作为数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/jsonArrayParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">jsonArrayParam</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;String&gt; hobbies)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;JSON数组参数传递hobbies --&gt; &quot;</span> + hobbies);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;json array param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/orange-zzcs/imgs/image-20230427113440607.png" alt="image-20230427113440607"></p>
<h4 id="④接收JSON对象"><a href="#④接收JSON对象" class="headerlink" title="④接收JSON对象"></a>④接收JSON对象</h4><p>​	在PostMan发送JSON数据：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;菲茨罗伊&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="string">&quot;27&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;萨尔沃&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;外域&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>​	接收请求参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/jsonPojoParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">jsonPojoParam</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;JSON对象参数传递user --&gt; &quot;</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;json pojo param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	使用<code>@RequestBody</code>注解将请求体中的数据放到形参user中</p>
<p>​	注：User类的结构见：本笔记中 请求与响应–&gt;五种类型参数传递 –&gt; 嵌套POJO数据类型 </p>
<h4 id="⑤接收JSON对象数组"><a href="#⑤接收JSON对象数组" class="headerlink" title="⑤接收JSON对象数组"></a>⑤接收JSON对象数组</h4><p>​	postMan发送JSON数据</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;菲茨罗伊&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="string">&quot;27&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;萨尔沃&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;外域&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;地平线&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="string">&quot;136&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;address&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;奥林匹斯&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;外域&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>

<p>​	</p>
<p>​	后台接收请求参数：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/jsonPojoListParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">jsonPojoListParam</span><span class="params">(<span class="meta">@RequestBody</span> List&lt;User&gt; users)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;JSON对象数组参数传递user --&gt; &quot;</span> + users);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;json pojo list param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	@RequestBody：将请求体中的数据放到形参users中</p>
<p><img src="/orange-zzcs/imgs/image-20230427113454890.png" alt="image-20230427113454890"></p>
<h4 id="⑥小结"><a href="#⑥小结" class="headerlink" title="⑥小结"></a>⑥小结</h4><p><img src="/orange-zzcs/imgs/image-20230427113500994.png" alt="image-20230427113500994"></p>
<p><img src="/orange-zzcs/imgs/image-20230427113510126.png" alt="image-20230427113510126"></p>
<p><code>@RequestBody</code>与<code>@RequestParam</code>区别：</p>
<p>@RequestBody：用于接收JSON数据；@RequestParam：用于接收非JSON数据。</p>
<hr>
<h3 id="E-日期类型参数传递"><a href="#E-日期类型参数传递" class="headerlink" title="E.日期类型参数传递"></a>E.日期类型参数传递</h3><h4 id="①引入-1"><a href="#①引入-1" class="headerlink" title="①引入"></a>①引入</h4><p>​	日期类型比较特殊，因为对于日期的格式有N多中输入方式，比如：</p>
<ul>
<li>2088-08-18</li>
<li>2088&#x2F;08&#x2F;18</li>
<li>08&#x2F;18&#x2F;2088</li>
<li>。。。</li>
</ul>
<p>​	针对这么多日期格式，SpringMVC该如何接收呢？下面我们来开始学习</p>
<p>​	</p>
<h4 id="②操作"><a href="#②操作" class="headerlink" title="②操作"></a>②操作</h4><p>​	后台接收日期数据：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/dateParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dateParam</span><span class="params">(Date date)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date --&gt; &quot;</span> + date);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;date param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​	如果发送过来的日期格式为：yyyy&#x2F;mm&#x2F;dd，则参数像上面这样写就能接收到数据了；如果发送过来的日期格式不是这样或者日期后面带上时间，那就要在参数前面使用<code>@DateTimeFormat</code>注解指定日期的格式如：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/dateParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dateParam</span><span class="params">(Date date1,<span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</span> Date date2)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date1 --&gt; &quot;</span> + date1);</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date2 --&gt; &quot;</span> + date2);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;date param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/dateParam&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">dateParam</span><span class="params">(Date date1,</span></span><br><span class="line"><span class="params">                        <span class="meta">@DateTimeFormat(pattern = &quot;yyyy-MM-dd&quot;)</span> Date date2,</span></span><br><span class="line"><span class="params">                        <span class="meta">@DateTimeFormat(pattern =&quot;yyyy/MM/dd HH:mm:ss&quot;)</span> Date date3)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date1 --&gt; &quot;</span> + date1);</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date2 --&gt; &quot;</span> + date2);</span><br><span class="line">    System.out.println(<span class="string">&quot;参数传递date3 --&gt; &quot;</span> + date3);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;date param&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li>为什么yyyy&#x2F;mm&#x2F;dd这种日期格式就不需要在形参前面指定日期格式呢？<ul>
<li>因为SpringMVC默认支持的字符串转日期的格式为<code>yyyy/MM/dd</code>，如果不符合其默认格式，SpringMVC就无法进行格式转换，需指定日期格式才能转换。</li>
</ul>
</li>
</ul>
<p><img src="/orange-zzcs/imgs/image-20230427113526700.png" alt="image-20230427113526700"></p>
<h4 id="③内部实现原理"><a href="#③内部实现原理" class="headerlink" title="③内部实现原理"></a>③内部实现原理</h4><p>​	我们首先先来思考一个问题：</p>
<ul>
<li>前端传递字符串，后端使用日期Date接收</li>
<li>前端传递JSON数据，后端使用对象接收</li>
<li>前端传递字符串，后端使用Integer接收</li>
<li>后台需要的数据类型有很多种，在数据的传递过程中存在很多类型的转换</li>
</ul>
<p>​	问：谁来做这个类型转换?</p>
<p>​	答：SpringMVC</p>
<p>​	问：SpringMVC是如何实现类型转换的?</p>
<p>​	答：SpringMVC中提供了很多类型转换接口和实现类</p>
<p><img src="/orange-zzcs/imgs/image-20230427113541972.png" alt="image-20230427113541972"></p>
<p><img src="/orange-zzcs/imgs/image-20230427113548381.png" alt="image-20230427113548381"></p>
<p><img src="/orange-zzcs/imgs/image-20230427113553796.png" alt="image-20230427113553796"></p>
<hr>
<h3 id="F-响应"><a href="#F-响应" class="headerlink" title="F.响应"></a>F.响应</h3><h4 id="①引入-2"><a href="#①引入-2" class="headerlink" title="①引入"></a>①引入</h4><p>​	SpringMVC接收到请求和数据后，进行一些了的处理，当然这个处理可以是转发给Service，Service层再调用Dao层完成的，不管怎样，处理完以后，都需要将结果告知给用户。</p>
<p>​	比如：根据用户ID查询用户信息、查询用户列表、新增用户等。<br>对于响应，主要就包含两部分内容：</p>
<ul>
<li>响应页面</li>
<li>响应数据<ul>
<li>文本数据</li>
<li>json数据</li>
</ul>
</li>
</ul>
<p>​	因为异步调用是目前常用的主流方式，所以我们需要更关注的就是如何返回JSON数据，对于其他只需要认识了解即可。</p>
<h4 id="②响应页面-x2F-跳转页面-了解"><a href="#②响应页面-x2F-跳转页面-了解" class="headerlink" title="②响应页面&#x2F;跳转页面(了解)"></a>②响应页面&#x2F;跳转页面(了解)</h4><p><img src="/orange-zzcs/imgs/image-20230215110329583.png" alt="image-20230215110329583"></p>
<p><img src="/orange-zzcs/imgs/image-20230427113603766.png" alt="image-20230427113603766"></p>
<h4 id="③返回文本数据-了解"><a href="#③返回文本数据-了解" class="headerlink" title="③返回文本数据(了解)"></a>③返回文本数据(了解)</h4><p>​	使用@ResponseBody，方法返回值类型设置为String。</p>
<p><img src="/orange-zzcs/imgs/image-20230215110935952.png" alt="image-20230215110935952"></p>
<p>​	如果不写@ResponseBody，则会将response text当成页面名去寻找，找不到报404。</p>
<img src="/imgs/image-20230427113621356.png" alt="image-20230427113621356" style="zoom:80%;" />



<h4 id="④响应JSON数据"><a href="#④响应JSON数据" class="headerlink" title="④响应JSON数据"></a>④响应JSON数据</h4><ul>
<li><p>响应POJO对象</p>
<p>  如果想将对象返回给前端页面，那需要将对象转换为前端能够识别的JSON数据，如何实现对象转JSON？使用@ResponseBody注解即可。方法的返回值类型写对象的类型。如：</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427113632187.png" alt="image-20230427113632187"></p>
<p>  <img src="/orange-zzcs/imgs/image-20230427113636351.png" alt="image-20230427113636351"></p>
<p>  ​	</p>
<p>  ​	@ResponseBody注解是如何将对象转换为JSON数据的呢？</p>
<p>  ​	是因为<code>HttpMessageConverter</code>接口帮我们实现了对象与JSON之间的转换工作，我们只需要在<code>SpringMvcConfig</code>配置类上加上<code>@EnableWebMvc</code>注解即可。</p>
</li>
</ul>
<p>​	</p>
<ul>
<li><p>响应POJO集合对象</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427113649572.png" alt="image-20230427113649572"></p>
<p>  <img src="/orange-zzcs/imgs/image-20230215121941180.png" alt="image-20230215121941180"></p>
</li>
</ul>
<h4 id="⑤-ResponseBody说明"><a href="#⑤-ResponseBody说明" class="headerlink" title="⑤@ResponseBody说明"></a>⑤@ResponseBody说明</h4><ul>
<li>@respondbody：将控制器的返回值转换为前端能够识别的数据类型，然后再响应出去。如果控制器返回值类型为String，那就不需要转换，因为前端能够识别String类型数据；如果控制器返回值类型为对象，那就要需要将对象转换为JSON数据，这样前端才能识别。</li>
<li>该注解可以写在类上或者方法上。写在类上就是该类下的所有方法都有@ReponseBody功能。</li>
<li>当方法上有@ReponseBody注解后<ul>
<li>方法的返回值为字符串，会将其作为文本内容直接响应给前端</li>
<li>方法的返回值为对象，会将对象转换成JSON响应给前端<ul>
<li>转换功能并不是SpringMVC实现的，而是由JSON依赖的jar实现的。</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h2 id="4-REST风格"><a href="#4-REST风格" class="headerlink" title="4.REST风格"></a>4.REST风格</h2><h3 id="A-REST简介"><a href="#A-REST简介" class="headerlink" title="A.REST简介"></a>A.REST简介</h3><h4 id="①什么是REST及其书写"><a href="#①什么是REST及其书写" class="headerlink" title="①什么是REST及其书写"></a>①什么是REST及其书写</h4><ul>
<li>REST是一种访问网络资源的格式，<strong>即：对网络访问路径（url）规定了一种新的书写格式。</strong><ul>
<li><strong>传统风格资源描述形式</strong><ul>
<li><code>http://localhost/user/getById?id=1 </code> 查询id为1的用户信息</li>
<li><code>http://localhost/user/saveUser</code>  保存用户信息</li>
</ul>
</li>
<li><strong>REST风格描述形式</strong><ul>
<li><code>http://localhost/user/1</code></li>
<li><code>http://localhost/user</code></li>
</ul>
</li>
</ul>
</li>
<li>传统方式一般是一个请求url对应一种操作，这样做不仅麻烦，而且也不安全，通过请求的<code>URL</code>地址，就大致能推测出该<code>URL</code>实现的是什么操作，反观REST风格的描述，请求地址变简洁了，而且只看请求<code>URL</code>并不很容易能猜出来该<code>UR</code>L的具体功能，所以**<code>REST</code>的优点有：**<ul>
<li>隐藏资源的访问行为，无法通过地址得知该资源是何种操作</li>
<li>书写简化</li>
</ul>
</li>
<li>那么问题也随之而来，一个相同的<code>URL</code>地址既可以是增加操作，也可以是修改或者查询，那么我们该如何区分该请求到底是什么操作呢？<ul>
<li>按照REST风格访问资源时，使用<code>行为动作</code>区分对资源进行了何种操作，<strong>即：通过请求方式进行区分</strong><ul>
<li><code>http://localhost/users</code> <strong>查询</strong>全部用户信息 <strong>GET</strong>（查询）</li>
<li><code>http://localhost/users/1</code> <strong>查询指定</strong>用户信息 <strong>GET</strong>（查询）</li>
<li><code>http://localhost/users</code> <strong>添加</strong>用户信息 <strong>POST</strong>（新增&#x2F;保存）</li>
<li><code>http://localhost/users</code> <strong>修改</strong>用户信息 <strong>PUT</strong>（修改&#x2F;更新）</li>
<li><code>http://localhost/users/1</code> <strong>删除</strong>用户信息 <strong>DELETE</strong>（删除）</li>
<li>补充：REST提供了很多种请求方式，但SpringMVC只能识别八种，而在这八种中最常用的就是：get&#x2F;post&#x2F;put&#x2F;delete这四种</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="②编写REST注意事项"><a href="#②编写REST注意事项" class="headerlink" title="②编写REST注意事项"></a>②编写REST注意事项</h4><p><img src="/orange-zzcs/imgs/image-20230427113736774.png" alt="image-20230427113736774"></p>
<h4 id="③RESTful"><a href="#③RESTful" class="headerlink" title="③RESTful"></a>③RESTful</h4><p>​	<strong>RESTful：</strong>就是使用REST风格进行编写URL的编写</p>
<hr>
<h3 id="B-RESTful入门案例"><a href="#B-RESTful入门案例" class="headerlink" title="B.RESTful入门案例"></a>B.RESTful入门案例</h3><h4 id="①环境准备"><a href="#①环境准备" class="headerlink" title="①环境准备"></a>①环境准备</h4><ul>
<li><p>pom.xml文件导入相关依赖</p>
  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.10.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>创建对应的配置类</p>
  <img src="/imgs/image-20230427113804265.png" alt="image-20230427113804265" style="zoom:67%;" />

  <img src="/imgs/image-20230427113812742.png" alt="image-20230427113812742" style="zoom:50%;" />
</li>
<li><p>编写POJO类</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427113825222.png" alt="image-20230427113825222"></p>
</li>
<li><p>编写UserController</p>
  <img src="/imgs/image-20230427113841624.png" alt="image-20230427113841624" style="zoom:80%;" /></li>
</ul>
<hr>
<h4 id="②思路分析"><a href="#②思路分析" class="headerlink" title="②思路分析"></a>②思路分析</h4><ul>
<li>需求：将UserController中各请求路径修改为使用REST风格编写的形式。</li>
<li>分析：将请求路径全部改为：&#x2F;users，再根据请求的操作选择响应的请求方式。<ul>
<li>查询操作 –&gt; 选择get请求</li>
<li>修改&#x2F;更新 –&gt; 选择put请求</li>
<li>新增&#x2F;保存 –&gt; 选择post请求</li>
<li>删除 –&gt; 选择delete请求</li>
</ul>
</li>
</ul>
<h4 id="③实现"><a href="#③实现" class="headerlink" title="③实现"></a>③实现</h4><ul>
<li><p>保存</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427114105662.png" alt="image-20230427114105662"></p>
<p>  指定了请求方式为post后，如果是其它请求方式访问，那就会报错。</p>
<p>  发送POST请求与参数：</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427114118304.png" alt="image-20230427114118304"></p>
</li>
<li><p>删除</p>
<p>  将请求路径更改为<code>/users</code>，并设置当前请求方法为<code>DELETE</code></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/users&quot;,method = RequestMethod.DELETE)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">delete</span><span class="params">(Integer id)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user delete ...&quot;</span> + id);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;user delete&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  但是现在的删除方法没有携带所要删除数据的id，所以针对RESTful的开发，如何携带&#x2F;获取数据参数?</p>
<ul>
<li><p>如何获取参数？</p>
<ul>
<li><p>由于使用REST风格后，请求参数将直接写在请求路径中，如：localhost:8080&#x2F;users&#x2F;9421，所以得在形参id前面使用<code>@PathVariable</code>注解，表示形参id的值将来自于请求路径中。那形参id的值具体在请求路径中的哪个位置呢？那就得在请求路径中标出来，如：</p>
<p>  <img src="/orange-zzcs/imgs/image-20230215174411518.png" alt="image-20230215174411518"></p>
<p>  补充知识：</p>
<p>  <img src="/orange-zzcs/imgs/image-20230215174528161.png" alt="image-20230215174528161"></p>
<p>  ​</p>
</li>
</ul>
<p>	</p>
</li>
<li><p>如何发送参数？</p>
<p>  直接在请求路径后面加上即可，如：localhost:8080&#x2F;users&#x2F;9421，其中9421就为参数。</p>
</li>
</ul>
</li>
<li><p>修改</p>
<p>  将请求路径更改为<code>/users</code>，并设置当前请求方法为<code>PUT</code></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/users&quot;,method = RequestMethod.PUT)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user update ...&quot;</span> + user);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;user update&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  在postman发送<code>PUT</code>请求<code>localhost:8080/users</code>，访问并携带参数</p>
  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span><span class="string">&quot;菲茨罗伊&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;age&quot;</span><span class="punctuation">:</span><span class="string">&quot;27&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>  <img src="/orange-zzcs/imgs/image-20230215175524865.png" alt="image-20230215175524865"></p>
</li>
<li><p>根据ID查询</p>
<p>  将请求路径更改为<code>/users/&#123;id&#125;</code>，并设置当前请求方法为<code>GET</code></p>
<p>  在postman发送<code>GET</code>请求访问<code>localhost:8080/users/2077</code></p>
<p>  <img src="/orange-zzcs/imgs/image-20230215175640342.png" alt="image-20230215175640342"></p>
</li>
<li><p>查询所有</p>
<p>  将请求路径更改为<code>/users</code>，并设置当前请求方法为<code>GET</code></p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/users&quot;,method = RequestMethod.GET)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getAll</span><span class="params">()</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;user getAll ...&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;&#123;&#x27;module&#x27;:&#x27;user getAll&#x27;&#125;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>  在postman发送<code>GET</code>请求访问<code>localhost:8080/users</code></p>
<p>  <img src="/orange-zzcs/imgs/image-20230215175729420.png" alt="image-20230215175729420"></p>
</li>
</ul>
<p>​	修改完后的代码为：</p>
<img src="/imgs/image-20230427114144259.png" alt="image-20230427114144259" style="zoom: 67%;" />

<img src="/imgs/image-20230427114207367.png" alt="image-20230427114207367" style="zoom:67%;" />

<p>​	从整体代码来看，有些臃肿，好多代码都是重复的，下一小节我们就会来解决这个问题。</p>
<hr>
<h4 id="④总结"><a href="#④总结" class="headerlink" title="④总结"></a>④总结</h4><ul>
<li><p>将请求路径使用REST风格编写，只需修改@RequestMapping注解的value为：表名+s，再通过@RequestMapping注解的属性method指定其请求的方式，即可完成REST风格编写。</p>
<ul>
<li>不同操作选择不同的请求方式：<ul>
<li>查询操作 –&gt; 选择get请求</li>
<li>修改&#x2F;更新 –&gt; 选择put请求</li>
<li>新增&#x2F;保存 –&gt; 选择post请求</li>
<li>删除 –&gt; 选择delete请求</li>
</ul>
</li>
</ul>
</li>
<li><p>如果处理请求的方法中有形参，那就像这样写来获取：</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427114222345.png" alt="image-20230427114222345"></p>
<p>  同时请求中的参数得写在请求路径中，如：<code>http://localhost:8080/users/2077</code></p>
</li>
<li><p>如果处理请求的方法中的形参的值是从JSON数据中获得，那在postman中发送请求的地址仍为原来的写法和做法，@RequestMapping注解中的value值仍为：表明+s，只需在方法参数前加上@RequestBody即可。</p>
<p>  <img src="/orange-zzcs/imgs/image-20230215181655394.png" alt="image-20230215181655394"></p>
</li>
<li><p>以后开发中都使用REST风格进行开发</p>
<ul>
<li>如果发送请求参数超过1个时，将数据封装到POJO类里，然后使用JSON格式来发送数据，接收数据时在参数前使用@RequestBody。</li>
</ul>
</li>
<li><p>如果发送请求参数为1个时，可以采用@PathVariable注解接收请求路径参数，通常用于传递id值。</p>
</li>
</ul>
<hr>
<h3 id="C-RESTful简化开发（标准开发）"><a href="#C-RESTful简化开发（标准开发）" class="headerlink" title="C.RESTful简化开发（标准开发）"></a>C.RESTful简化开发（标准开发）</h3><h4 id="①引入-3"><a href="#①引入-3" class="headerlink" title="①引入"></a>①引入</h4><p>​	RESTful入门案例中，代码中有很多地方存在冗余，为了减少冗余就产生了本章内容。</p>
<p>​	RESTful入门案例代码：</p>
<img src="/imgs/image-20230427114243085.png" alt="image-20230427114243085" style="zoom:67%;" />

<img src="/imgs/image-20230427114254672.png" alt="image-20230427114254672" style="zoom:67%;" />



<h4 id="②简化"><a href="#②简化" class="headerlink" title="②简化"></a>②简化</h4><ul>
<li><p>每个方法的@RequestMapping注解中都定义了访问路径&#x2F;users，重复性太高。</p>
<ul>
<li><p>解决方案：将<code>@RequestMapping</code>提到类上面，用来定义所有方法共同的访问路径。</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427114314949.png" alt="image-20230427114314949"></p>
<p>  <img src="/orange-zzcs/imgs/image-20230216101718205.png" alt="image-20230216101718205"></p>
</li>
</ul>
</li>
<li><p>修改后的代码中，每个方法的@RequestMapping注解中都要使用method属性定义请求方式，重复性太高。</p>
<ul>
<li><p>解决方案：使用<code>@GetMapping</code>、<code>@PostMapping</code>、<code>@PutMapping</code>、<code>@DeleteMapping</code>代替</p>
<p>  <img src="/orange-zzcs/imgs/image-20230216102314423.png" alt="image-20230216102314423"></p>
<p>  <img src="/orange-zzcs/imgs/image-20230216102343728.png" alt="image-20230216102343728"></p>
</li>
</ul>
</li>
<li><p>上面修改过的代码中，每个方法响应json都需要加上@ResponseBody注解，重复性太高。</p>
<ul>
<li>解决方案：<ul>
<li>将<code>@ResponseBody</code>提到类上面，让所有的方法都有<code>@ResponseBody</code>的功能</li>
<li>使用<code>@RestController</code>注解替换<code>@Controller</code>与<code>@ResponseBody</code>注解，简化书写</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>最终修改后的代码：</p>
<img src="/imgs/image-20230427114344386.png" alt="image-20230427114344386" style="zoom:67%;" />



<hr>
<h3 id="D-RESTful案例"><a href="#D-RESTful案例" class="headerlink" title="D.RESTful案例"></a>D.RESTful案例</h3><h4 id="①需求分析及案例步骤"><a href="#①需求分析及案例步骤" class="headerlink" title="①需求分析及案例步骤"></a>①需求分析及案例步骤</h4><p>​	见<a target="_blank" rel="noopener" href="https://cyborg2077.github.io/2022/09/08/SpringMVC/#%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%A4%84%E7%90%86">SpringMVC | Kyle’s Blog (cyborg2077.github.io)</a> </p>
<p><img src="/orange-zzcs/imgs/image-20230216125454219.png" alt="image-20230216125454219"></p>
<h4 id="②环境准备-1"><a href="#②环境准备-1" class="headerlink" title="②环境准备"></a>②环境准备</h4><p>​	见<a target="_blank" rel="noopener" href="https://cyborg2077.github.io/2022/09/08/SpringMVC/#%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%A4%84%E7%90%86">SpringMVC | Kyle’s Blog (cyborg2077.github.io)</a></p>
<p>​	<img src="/orange-zzcs/imgs/image-20230216125552030.png" alt="image-20230216125552030"></p>
<h4 id="③后台接口开发"><a href="#③后台接口开发" class="headerlink" title="③后台接口开发"></a>③后台接口开发</h4><p>​	<img src="/orange-zzcs/imgs/image-20230216125642859.png" alt="image-20230216125642859"></p>
<h4 id="④页面访问处理"><a href="#④页面访问处理" class="headerlink" title="④页面访问处理"></a>④页面访问处理</h4><ul>
<li><p><strong>引入</strong></p>
  <img src="/imgs/image-20230427114359335.png" alt="image-20230427114359335" style="zoom:80%;" />

  

<p>  ​	如果想访问上图中的静态资源，如pages文件下的books.html页面，输入访问地址：htttp:&#x2F;&#x2F;localhost:8080&#x2F;pages&#x2F;books.html，页面会报404。这是为什么呢？</p>
<p>  ​	这是因为在ServletContainersInitConfig类中设置了将所有请求拦截下来交给SpringMVC处理</p>
<p>  <img src="/orange-zzcs/imgs/image-20230427114412556.png" alt="image-20230427114412556"></p>
<p>  ​	因此SpringMVC就会拿着这个请求去控制在类中找是否有请求路径匹配上该路径，结果没有匹配上，所以就报404了。</p>
<p>  ​	那怎么办呢？</p>
<p>  ​	我们需要重写建一个类处理这个问题。</p>
</li>
<li><p><strong>解决</strong></p>
<ul>
<li><p>在config包下新建一个类：SpringMvcSupport，让该类继承WebMvcConfigurationSupport类，重写WebMvcConfigurationSupport类里的addResourceHandlers方法（该方法的作用是：添加资源过滤）</p>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringMvcSupport</span> <span class="keyword">extends</span> <span class="title class_">WebMvcConfigurationSupport</span> &#123;</span><br><span class="line">    <span class="comment">//设置静态资源访问过滤，当前类需要设置为配置类，并被扫描加载</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">addResourceHandlers</span><span class="params">(ResourceHandlerRegistry registry)</span> &#123;</span><br><span class="line">        <span class="comment">//当访问/pages/xxx时候，从/pages目录下查找内容</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/pages/**&quot;</span>).addResourceLocations(<span class="string">&quot;/pages/&quot;</span>);</span><br><span class="line">        <span class="comment">//当访问/js/xxx时候，从/js目录下查找内容</span></span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/js/**&quot;</span>).addResourceLocations(<span class="string">&quot;/js/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/css/**&quot;</span>).addResourceLocations(<span class="string">&quot;/css/&quot;</span>);</span><br><span class="line">        registry.addResourceHandler(<span class="string">&quot;/plugins/**&quot;</span>).addResourceLocations(<span class="string">&quot;/plugins/&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//registry.addResourceHandler：添加资源处理器，括号里写处理什么资源</span></span><br><span class="line"><span class="comment">//非SpringMVC的请求都应放行</span></span><br></pre></td></tr></table></figure>

<p>  该配置类是在config目录下，SpringMVC扫描的是controller包，所以该配置类还未生效，要想生效需要将SpringMvcConfig配置类进行修改</p>
<p>  <img src="/orange-zzcs/imgs/image-20230216131537544.png" alt="image-20230216131537544"></p>
</li>
<li><p>补充：对于静态的web资源，SpringMVC不需要拦截，将这些资源交给Tomcat服务器处理。</p>
</li>
</ul>
</li>
</ul>
<h4 id="⑤修改页面"><a href="#⑤修改页面" class="headerlink" title="⑤修改页面"></a>⑤修改页面</h4><p>​	我们只需要修改<code>saveBook()</code>和<code>getAll()</code>这两个函数就行</p>
<ul>
<li>当调用<code>getAll()</code>函数时，我们需要将响应的JSON数据赋给dataList即可，而响应JSON数据我们在上一小节已经完成了</li>
<li>当调用<code>saveBook()</code>函数时，发送POST请求，并将formData的数据响应给后台，我们这里的操作只是在控制台输出了一下</li>
</ul>
<p>​	见：<a target="_blank" rel="noopener" href="https://cyborg2077.github.io/2022/09/08/SpringMVC/#%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%A4%84%E7%90%86">SpringMVC | Kyle’s Blog (cyborg2077.github.io)</a></p>
<p><img src="/orange-zzcs/imgs/image-20230217121341976.png" alt="image-20230217121341976"></p>
<p><img src="/orange-zzcs/imgs/image-20230217121354738.png" alt="image-20230217121354738"></p>
<p>​	</p>
<p>​	如果看不懂<code>saveBook()</code>和<code>getAll()</code>这两个函数里面代码，就打开IDEA看之前编写的web程序的前页面代码，别人写的是简化的代码。</p>
<hr>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://orangezzc.github.io/">OrangeZzc</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://orangezzcs.gitee.io/orange-zzcs/2023/04/24/SpringMvc/">https://orangezzcs.gitee.io/orange-zzcs/2023/04/24/SpringMvc/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://orangezzcs.gitee.io/orange-zzcs" target="_blank">Orange's Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/orange-zzcs/tags/SpringMvc/">SpringMvc</a></div><div class="post_share"><div class="social-share" data-image="/orange-zzcs/./imgs/springmvcfenmian.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/orange-zzcs/2023/04/24/SSM%E6%95%B4%E5%90%88/" title="SSM整合"><img class="cover" src="/orange-zzcs/./imgs/ssmfenmianjpg.jpg" onerror="onerror=null;src='/orange-zzcs/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">SSM整合</div></div></a></div><div class="next-post pull-right"><a href="/orange-zzcs/2023/04/24/Spring/" title="Spring"><img class="cover" src="/orange-zzcs/./imgs/vuefenmian.jpg" onerror="onerror=null;src='/orange-zzcs/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Spring</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/orange-zzcs/img/avater.jpeg" onerror="this.onerror=null;this.src='/orange-zzcs/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">OrangeZzc</div><div class="author-info__description">欢迎来到我的博客!</div></div><div class="card-info-data site-data is-center"><a href="/orange-zzcs/archives/"><div class="headline">文章</div><div class="length-num">26</div></a><a href="/orange-zzcs/tags/"><div class="headline">标签</div><div class="length-num">21</div></a><a href="/orange-zzcs/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/OrangeZzc" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:3486484066@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #24292e;"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=3486484066&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">如果在阅读过程中遇到了问题，可以随时联系我，看到了会在第一时间给出回复（不负责DEBUG，除非我真的写的有问题）</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E6%A6%82%E8%BF%B0"><span class="toc-text">一、概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E4%BB%80%E4%B9%88%E6%98%AFSpringMVC"><span class="toc-text">1.什么是SpringMVC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AD%A6%E4%B9%A0%E5%86%85%E5%AE%B9%E5%8F%8A%E7%9B%AE%E6%A0%87"><span class="toc-text">2.学习内容及目标</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8C%E3%80%81SpringMVC"><span class="toc-text">二、SpringMVC</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%EF%BC%88%E9%87%8D%E7%82%B9%E5%9B%9E%E9%A1%BE%EF%BC%89"><span class="toc-text">1.入门案例（重点回顾）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-%E6%A1%88%E4%BE%8B%E5%88%B6%E4%BD%9C"><span class="toc-text">A.案例制作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E6%80%BB%E7%BB%93"><span class="toc-text">B.入门案例总结</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span class="toc-text">C.入门案例工作流程分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-bean%E5%8A%A0%E8%BD%BD%E6%8E%A7%E5%88%B6"><span class="toc-text">D.bean加载控制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E9%97%AE%E9%A2%98%E5%BC%95%E5%85%A5"><span class="toc-text">①问题引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%B8%80%EF%BC%88%E6%8E%A8%E8%8D%90%E4%BD%BF%E7%94%A8%EF%BC%89"><span class="toc-text">②解决方法一（推荐使用）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-text">③解决方法二</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-PostMan%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-text">2.PostMan工具的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-%E4%B8%8B%E8%BD%BD"><span class="toc-text">A.下载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-%E7%99%BB%E5%BD%95%E6%B3%A8%E5%86%8C"><span class="toc-text">B.登录注册</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-text">C.工作空间</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E6%96%B0%E5%BB%BA%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-text">①新建工作空间</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E5%88%87%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4"><span class="toc-text">②切换工作空间</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="toc-text">D.发送请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-%E4%BF%9D%E5%AD%98%E8%AF%B7%E6%B1%82"><span class="toc-text">E.保存请求</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-%E6%9F%A5%E7%9C%8B%E4%B9%8B%E5%89%8D%E4%BF%9D%E5%AD%98%E7%9A%84%E8%AF%B7%E6%B1%82"><span class="toc-text">F.查看之前保存的请求</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E8%AF%B7%E6%B1%82%E4%B8%8E%E5%93%8D%E5%BA%94%EF%BC%88%E9%87%8D%E7%82%B9%E5%9B%9E%E9%A1%BE%EF%BC%89"><span class="toc-text">3.请求与响应（重点回顾）</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-%E8%AE%BE%E7%BD%AE%E8%AF%B7%E6%B1%82%E6%98%A0%E5%B0%84%E8%B7%AF%E5%BE%84"><span class="toc-text">A.设置请求映射路径</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E9%97%AE%E9%A2%98%E5%BC%95%E5%85%A5-1"><span class="toc-text">①问题引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E8%A7%A3%E5%86%B3"><span class="toc-text">②解决</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">B.请求参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E5%88%A9%E7%94%A8postman%E5%8F%91%E9%80%81get%E8%AF%B7%E6%B1%82"><span class="toc-text">①利用postman发送get请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E5%88%A9%E7%94%A8postman%E5%8F%91%E9%80%81post%E8%AF%B7%E6%B1%82"><span class="toc-text">②利用postman发送post请求</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E8%8E%B7%E5%8F%96%E8%AF%B7%E6%B1%82%E5%8F%82%E6%95%B0"><span class="toc-text">③获取请求参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3post%E8%AF%B7%E6%B1%82%E4%B8%AD%E6%96%87%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-text">④post请求中文乱码问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-%E4%BA%94%E7%A7%8D%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-text">C.五种类型参数传递（了解）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E6%99%AE%E9%80%9A%E5%8F%82%E6%95%B0"><span class="toc-text">①普通参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1POJO%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">②POJO数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E5%B5%8C%E5%A5%97POJO%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-text">③嵌套POJO数据类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3%E6%95%B0%E7%BB%84%E7%B1%BB%E5%9E%8B"><span class="toc-text">④数组类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4%E9%9B%86%E5%90%88%E7%B1%BB%E5%9E%8B"><span class="toc-text">⑤集合类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-JSON%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8F%82%E6%95%B0"><span class="toc-text">D.JSON数据传输参数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E5%BC%95%E5%85%A5"><span class="toc-text">①引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-text">②环境准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E6%8E%A5%E6%94%B6JSON%E6%99%AE%E9%80%9A%E6%95%B0%E7%BB%84"><span class="toc-text">③接收JSON普通数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3%E6%8E%A5%E6%94%B6JSON%E5%AF%B9%E8%B1%A1"><span class="toc-text">④接收JSON对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4%E6%8E%A5%E6%94%B6JSON%E5%AF%B9%E8%B1%A1%E6%95%B0%E7%BB%84"><span class="toc-text">⑤接收JSON对象数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A5%E5%B0%8F%E7%BB%93"><span class="toc-text">⑥小结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#E-%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92"><span class="toc-text">E.日期类型参数传递</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E5%BC%95%E5%85%A5-1"><span class="toc-text">①引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E6%93%8D%E4%BD%9C"><span class="toc-text">②操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-text">③内部实现原理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#F-%E5%93%8D%E5%BA%94"><span class="toc-text">F.响应</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E5%BC%95%E5%85%A5-2"><span class="toc-text">①引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E5%93%8D%E5%BA%94%E9%A1%B5%E9%9D%A2-x2F-%E8%B7%B3%E8%BD%AC%E9%A1%B5%E9%9D%A2-%E4%BA%86%E8%A7%A3"><span class="toc-text">②响应页面&#x2F;跳转页面(了解)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E8%BF%94%E5%9B%9E%E6%96%87%E6%9C%AC%E6%95%B0%E6%8D%AE-%E4%BA%86%E8%A7%A3"><span class="toc-text">③返回文本数据(了解)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3%E5%93%8D%E5%BA%94JSON%E6%95%B0%E6%8D%AE"><span class="toc-text">④响应JSON数据</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4-ResponseBody%E8%AF%B4%E6%98%8E"><span class="toc-text">⑤@ResponseBody说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-REST%E9%A3%8E%E6%A0%BC"><span class="toc-text">4.REST风格</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#A-REST%E7%AE%80%E4%BB%8B"><span class="toc-text">A.REST简介</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E4%BB%80%E4%B9%88%E6%98%AFREST%E5%8F%8A%E5%85%B6%E4%B9%A6%E5%86%99"><span class="toc-text">①什么是REST及其书写</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E7%BC%96%E5%86%99REST%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-text">②编写REST注意事项</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2RESTful"><span class="toc-text">③RESTful</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#B-RESTful%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B"><span class="toc-text">B.RESTful入门案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87"><span class="toc-text">①环境准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E6%80%9D%E8%B7%AF%E5%88%86%E6%9E%90"><span class="toc-text">②思路分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E5%AE%9E%E7%8E%B0"><span class="toc-text">③实现</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3%E6%80%BB%E7%BB%93"><span class="toc-text">④总结</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#C-RESTful%E7%AE%80%E5%8C%96%E5%BC%80%E5%8F%91%EF%BC%88%E6%A0%87%E5%87%86%E5%BC%80%E5%8F%91%EF%BC%89"><span class="toc-text">C.RESTful简化开发（标准开发）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E5%BC%95%E5%85%A5-3"><span class="toc-text">①引入</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E7%AE%80%E5%8C%96"><span class="toc-text">②简化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#D-RESTful%E6%A1%88%E4%BE%8B"><span class="toc-text">D.RESTful案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E9%9C%80%E6%B1%82%E5%88%86%E6%9E%90%E5%8F%8A%E6%A1%88%E4%BE%8B%E6%AD%A5%E9%AA%A4"><span class="toc-text">①需求分析及案例步骤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87-1"><span class="toc-text">②环境准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A2%E5%90%8E%E5%8F%B0%E6%8E%A5%E5%8F%A3%E5%BC%80%E5%8F%91"><span class="toc-text">③后台接口开发</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A3%E9%A1%B5%E9%9D%A2%E8%AE%BF%E9%97%AE%E5%A4%84%E7%90%86"><span class="toc-text">④页面访问处理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A4%E4%BF%AE%E6%94%B9%E9%A1%B5%E9%9D%A2"><span class="toc-text">⑤修改页面</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/orange-zzcs/2023/04/26/Java%E8%AF%AD%E6%B3%95%EF%BC%88%E9%AB%98%E7%BA%A7%EF%BC%89/" title="Java语法（高级）"><img src="/orange-zzcs/./imgs/javayufafenmian.jpg" onerror="this.onerror=null;this.src='/orange-zzcs/img/404.jpg'" alt="Java语法（高级）"/></a><div class="content"><a class="title" href="/orange-zzcs/2023/04/26/Java%E8%AF%AD%E6%B3%95%EF%BC%88%E9%AB%98%E7%BA%A7%EF%BC%89/" title="Java语法（高级）">Java语法（高级）</a><time datetime="2023-04-26T10:51:27.000Z" title="发表于 2023-04-26 18:51:27">2023-04-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/orange-zzcs/2023/04/24/%E5%BF%AB%E6%8D%B7%E9%94%AE/" title="快捷键"><img src="/orange-zzcs/./imgs/kuaijiejianfenmian.jpg" onerror="this.onerror=null;this.src='/orange-zzcs/img/404.jpg'" alt="快捷键"/></a><div class="content"><a class="title" href="/orange-zzcs/2023/04/24/%E5%BF%AB%E6%8D%B7%E9%94%AE/" title="快捷键">快捷键</a><time datetime="2023-04-24T13:16:22.000Z" title="发表于 2023-04-24 21:16:22">2023-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/orange-zzcs/2023/04/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86/" title="计算机知识"><img src="/orange-zzcs/./imgs/jishuanjizhishifenmian.jpg" onerror="this.onerror=null;this.src='/orange-zzcs/img/404.jpg'" alt="计算机知识"/></a><div class="content"><a class="title" href="/orange-zzcs/2023/04/24/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%9F%A5%E8%AF%86/" title="计算机知识">计算机知识</a><time datetime="2023-04-24T13:11:01.000Z" title="发表于 2023-04-24 21:11:01">2023-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/orange-zzcs/2023/04/24/java%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0/" title="Java语法基础概述"><img src="/orange-zzcs/./imgs/javayufafenmian.jpg" onerror="this.onerror=null;this.src='/orange-zzcs/img/404.jpg'" alt="Java语法基础概述"/></a><div class="content"><a class="title" href="/orange-zzcs/2023/04/24/java%E8%AF%AD%E6%B3%95%E5%9F%BA%E7%A1%80%E6%A6%82%E8%BF%B0/" title="Java语法基础概述">Java语法基础概述</a><time datetime="2023-04-24T10:27:36.000Z" title="发表于 2023-04-24 18:27:36">2023-04-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/orange-zzcs/2023/04/24/git/" title="Git"><img src="/orange-zzcs/./imgs/gitfenmian.jpg" onerror="this.onerror=null;this.src='/orange-zzcs/img/404.jpg'" alt="Git"/></a><div class="content"><a class="title" href="/orange-zzcs/2023/04/24/git/" title="Git">Git</a><time datetime="2023-04-24T08:32:11.000Z" title="发表于 2023-04-24 16:32:11">2023-04-24</time></div></div></div></div></div></div></main><footer id="footer" style="background: rgba(255,255,255, .0)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By OrangeZzc</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text"><b>We can't change our fate,but we can do our best!</b></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/orange-zzcs/js/utils.js"></script><script src="/orange-zzcs/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/orange-zzcs/js/search/local-search.js"></script></div></div></body></html>